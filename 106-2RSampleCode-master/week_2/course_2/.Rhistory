b <- regmatches(txt, gregexpr("【1\\:\\d+\\.\\d+萬】",txt))
a <- gsub("萬】","",a)
b <- gsub("萬】","",b)
for(i in 1:length(a)){
j = length(c) + 1
if(a[[i]] != "character(0)") {
c[j] = strsplit(a[[i]],":")[[1]][2]
} else {
c[j] = strsplit(b[[i]],":")[[1]][2]
}
}
c
url <- html %>%
html_nodes("div#Col22Right > div.newPage.clearfix > div > a.next01") %>%
html_attr("href") %>%
paste("http://www.8591.com.tw/",.,sep = "")
url
html <- read_html("http://www.8591.com.tw/mallList-list.html?&group=1&searchType=0&priceSort=0&ratios=0&searchGame=22&searchServer=1778&firstRow=0&totalRows=105#menu")
c = NULL
repeat {
url <- html %>%
html_nodes("div#Col22Right > div.newPage.clearfix > div > a.next01") %>%
html_attr("href") %>%
paste("http://www.8591.com.tw/",.,sep = "")
if (url != "http://www.8591.com.tw/"){
html <- read_html(url)
} else break
txt <- html %>%
html_nodes("ul#wc_list > li > div > a") %>%
html_text()
a <- regmatches(txt, gregexpr("【1\\:\\d+萬】",txt))
b <- regmatches(txt, gregexpr("【1\\:\\d+\\.\\d+萬】",txt))
a <- gsub("萬】","",a)
b <- gsub("萬】","",b)
for(i in 1:length(a)){
j = length(c) + 1
if(a[[i]] != "character(0)") {
c[j] = strsplit(a[[i]],":")[[1]][2]
} else {
c[j] = strsplit(b[[i]],":")[[1]][2]
}
}
}
c
c = NULL
html <- read_html("http://www.8591.com.tw/mallList-list.html?&group=1&searchType=0&priceSort=0&ratios=0&searchGame=22&searchServer=1778&firstRow=0&totalRows=105#menu")
repeat {
url <- html %>%
html_nodes("div#Col22Right > div.newPage.clearfix > div > a.next01") %>%
html_attr("href") %>%
paste("http://www.8591.com.tw/",.,sep = "")
if (url != "http://www.8591.com.tw/"){
html <- read_html(url)
} else break
txt <- html %>%
html_nodes("ul#wc_list > li > div > a") %>%
html_text()
a <- regmatches(txt, gregexpr("【1\\:\\d+萬】",txt))
b <- regmatches(txt, gregexpr("【1\\:\\d+\\.\\d+萬】",txt))
a <- gsub("萬】","",a)
b <- gsub("萬】","",b)
for(i in 1:length(a)){
j = length(c) + 1
if(a[[i]] != "character(0)") {
c[j] = strsplit(a[[i]],":")[[1]][2]
} else {
c[j] = strsplit(b[[i]],":")[[1]][2]
}
}
}
c
html <- read_html("http://www.8591.com.tw/mallList-list.html?&group=1&searchType=0&priceSort=0&ratios=0&searchGame=22&searchServer=1778&firstRow=0&totalRows=105#menu")
url <- html %>%
html_nodes("div#Col22Right > div.newPage.clearfix > div > a.next01") %>%
html_attr("href") %>%
paste("http://www.8591.com.tw/",.,sep = "")
if (url != "http://www.8591.com.tw/"){
html <- read_html(url)
} else break
txt <- html %>%
html_nodes("ul#wc_list > li > div > a") %>%
html_text()
a <- regmatches(txt, gregexpr("【1\\:\\d+萬】",txt))
b <- regmatches(txt, gregexpr("【1\\:\\d+\\.\\d+萬】",txt))
a <- gsub("萬】","",a)
b <- gsub("萬】","",b)
for(i in 1:length(a)){
j = length(c) + 1
if(a[[i]] != "character(0)") {
c[j] = strsplit(a[[i]],":")[[1]][2]
} else {
c[j] = strsplit(b[[i]],":")[[1]][2]
}
}
c
c = NULL
url <- html %>%
html_nodes("div#Col22Right > div.newPage.clearfix > div > a.next01") %>%
html_attr("href") %>%
paste("http://www.8591.com.tw/",.,sep = "")
if (url != "http://www.8591.com.tw/"){
html <- read_html(url)
} else break
txt <- html %>%
html_nodes("ul#wc_list > li > div > a") %>%
html_text()
a <- regmatches(txt, gregexpr("【1\\:\\d+萬】",txt))
b <- regmatches(txt, gregexpr("【1\\:\\d+\\.\\d+萬】",txt))
a <- gsub("萬】","",a)
b <- gsub("萬】","",b)
for(i in 1:length(a)){
j = length(c) + 1
if(a[[i]] != "character(0)") {
c[j] = strsplit(a[[i]],":")[[1]][2]
} else {
c[j] = strsplit(b[[i]],":")[[1]][2]
}
}
c
url <- html %>%
html_nodes("div#Col22Right > div.newPage.clearfix > div > a.next01") %>%
html_attr("href") %>%
paste("http://www.8591.com.tw/",.,sep = "")
if (url != "http://www.8591.com.tw/"){
html <- read_html(url)
} else break
txt <- html %>%
html_nodes("ul#wc_list > li > div > a") %>%
html_text()
a <- regmatches(txt, gregexpr("【1\\:\\d+萬】",txt))
b <- regmatches(txt, gregexpr("【1\\:\\d+\\.\\d+萬】",txt))
a <- gsub("萬】","",a)
b <- gsub("萬】","",b)
for(i in 1:length(a)){
j = length(c) + 1
if(a[[i]] != "character(0)") {
c[j] = strsplit(a[[i]],":")[[1]][2]
} else {
c[j] = strsplit(b[[i]],":")[[1]][2]
}
}
c
url <- html %>%
html_nodes("div#Col22Right > div.newPage.clearfix > div > a.next01") %>%
html_attr("href") %>%
paste("http://www.8591.com.tw/",.,sep = "")
if (url != "http://www.8591.com.tw/"){
html <- read_html(url)
} else break
txt <- html %>%
html_nodes("ul#wc_list > li > div > a") %>%
html_text()
a <- regmatches(txt, gregexpr("【1\\:\\d+萬】",txt))
b <- regmatches(txt, gregexpr("【1\\:\\d+\\.\\d+萬】",txt))
a <- gsub("萬】","",a)
b <- gsub("萬】","",b)
for(i in 1:length(a)){
j = length(c) + 1
if(a[[i]] != "character(0)") {
c[j] = strsplit(a[[i]],":")[[1]][2]
} else {
c[j] = strsplit(b[[i]],":")[[1]][2]
}
}
c
url
url <- html %>%
html_nodes("div#Col22Right > div.newPage.clearfix > div > a.next01") %>%
html_attr("href") %>%
paste("http://www.8591.com.tw/",.,sep = "")
if (url != "http://www.8591.com.tw/"){
html <- read_html(url)
} else break
txt <- html %>%
html_nodes("ul#wc_list > li > div > a") %>%
html_text()
a <- regmatches(txt, gregexpr("【1\\:\\d+萬】",txt))
b <- regmatches(txt, gregexpr("【1\\:\\d+\\.\\d+萬】",txt))
a <- gsub("萬】","",a)
b <- gsub("萬】","",b)
for(i in 1:length(a)){
j = length(c) + 1
if(a[[i]] != "character(0)") {
c[j] = strsplit(a[[i]],":")[[1]][2]
} else {
c[j] = strsplit(b[[i]],":")[[1]][2]
}
}
c
url
c = NULL
html <- read_html("http://www.8591.com.tw/mallList-list.html?&group=1&searchType=0&priceSort=0&ratios=0&searchGame=22&searchServer=1778&firstRow=0&totalRows=105#menu")
url <- html %>%
html_nodes("div#Col22Right > div.newPage.clearfix > div > a.next01") %>%
html_attr("href") %>%
paste("http://www.8591.com.tw/",.,sep = "")
if (url != "http://www.8591.com.tw/"){
html <- read_html(url)
} else break
txt <- html %>%
html_nodes("ul#wc_list > li > div > a") %>%
html_text()
a <- regmatches(txt, gregexpr("【1\\:\\d+萬】",txt))
b <- regmatches(txt, gregexpr("【1\\:\\d+\\.\\d+萬】",txt))
a <- gsub("萬】","",a)
b <- gsub("萬】","",b)
for(i in 1:length(a)){
j = length(c) + 1
if(a[[i]] != "character(0)") {
c[j] = strsplit(a[[i]],":")[[1]][2]
} else {
c[j] = strsplit(b[[i]],":")[[1]][2]
}
}
c
url <- html %>%
html_nodes("div#Col22Right > div.newPage.clearfix > div > a.next01") %>%
html_attr("href") %>%
paste("http://www.8591.com.tw/",.,sep = "")
if (url != "http://www.8591.com.tw/"){
html <- read_html(url)
} else break
txt <- html %>%
html_nodes("ul#wc_list > li > div > a") %>%
html_text()
a <- regmatches(txt, gregexpr("【1\\:\\d+萬】",txt))
b <- regmatches(txt, gregexpr("【1\\:\\d+\\.\\d+萬】",txt))
a <- gsub("萬】","",a)
b <- gsub("萬】","",b)
for(i in 1:length(a)){
j = length(c) + 1
if(a[[i]] != "character(0)") {
c[j] = strsplit(a[[i]],":")[[1]][2]
} else {
c[j] = strsplit(b[[i]],":")[[1]][2]
}
}
c
url
html <- read_html(url)
txt <- html %>%
html_nodes("ul#wc_list > li > div > a") %>%
html_text()
txt
url <- html %>%
html_nodes("div#Col22Right > div.newPage.clearfix > div > a.next01") %>%
html_attr("href") %>%
paste("http://www.8591.com.tw/",.,sep = "")
if (url != "http://www.8591.com.tw/"){
html <- read_html(url)
} else break
txt <- html %>%
html_nodes("ul#wc_list > li > div > a") %>%
html_text()
a <- regmatches(txt, gregexpr("【1\\:\\d+萬】",txt))
b <- regmatches(txt, gregexpr("【1\\:\\d+\\.\\d+萬】",txt))
a <- gsub("萬】","",a)
b <- gsub("萬】","",b)
for(i in 1:length(a)){
j = length(c) + 1
if(a[[i]] != "character(0)") {
c[j] = strsplit(a[[i]],":")[[1]][2]
} else {
c[j] = strsplit(b[[i]],":")[[1]][2]
}
}
c
html <- read_html(url)
txt <- html %>%
html_nodes("ul#wc_list > li > div > a") %>%
html_text()
txt
url <- html %>%
html_nodes("div#Col22Right > div.newPage.clearfix > div > a.next01") %>%
html_attr("href") %>%
paste("http://www.8591.com.tw/",.,sep = "")
html <- read_html(url)
txt <- html %>%
html_nodes("ul#wc_list > li > div > a") %>%
html_text()
txt
a <- regmatches(txt, gregexpr("【1\\:\\d+萬】",txt))
a
a <- gsub("萬】","",a)
a
txt <- html %>%
html_nodes("ul#wc_list > li > div > a") %>%
html_text()
a <- regmatches(txt, gregexpr("【1\\:\\d+萬】",txt))
a
a[[10]]
a[[10]][1]
a[[10]][2]
a[[10]][3]
a <- regmatches(txt, gregexpr("【1\\:\\d+萬】",txt))[1]
z
a
a <- regmatches(txt, gregexpr("【1\\:\\d+萬】",txt))[[1]]
a
a <- regmatches(txt, gregexpr("【1\\:\\d+萬】",txt))
a
a <- regmatches(txt, gregexpr("【1\\:\\d+萬】",txt))[[]]
a
a <- regmatches(txt, gregexpr("【1\\:\\d+萬】",txt))[]
a
a <- gsub("\\d+萬】","\\d+",a)
a
a <- regmatches(txt, gregexpr("【1\\:\\d+萬】",txt))
a
a <- gsub("\\d+萬】","\d+",a)
a <- gsub("\\d+萬】","\\d+",a)
a
a <- regmatches(txt, gregexpr("【1\\:\\d+萬】",txt))
a[1]
a[2]
a[[3]]
a[[10]]
a[[]][1]
a[[]][2]
a[[]]
a
a[2]
a[10]
a[10][1]
a[10][1][1]
a[10][[[1]][1]
a[10][[1]][1]
a[[1]]
a[][[1]]
a[][[2]]
a[][[3]]
a[][[10]]
a[][[10]][1]
a[][[]][1]
a[][[]][2]
unlist(a)
c = NULL
html <- read_html("http://www.8591.com.tw/mallList-list.html?&group=1&searchType=0&priceSort=0&ratios=0&searchGame=22&searchServer=1778&firstRow=0&totalRows=105#menu")
repeat {
url <- html %>%
html_nodes("div#Col22Right > div.newPage.clearfix > div > a.next01") %>%
html_attr("href") %>%
paste("http://www.8591.com.tw/",.,sep = "")
if (url != "http://www.8591.com.tw/"){
html <- read_html(url)
} else break
txt <- html %>%
html_nodes("ul#wc_list > li > div > a") %>%
html_text()
a <- regmatches(txt, gregexpr("【1\\:\\d+萬】",txt))
b <- regmatches(txt, gregexpr("【1\\:\\d+\\.\\d+萬】",txt))
a <- gsub("萬】","",a)
b <- gsub("萬】","",b)
for(i in 1:length(a)){
j = length(c) + 1
if(a[[i]] != "character(0)") {
c[j] = strsplit(a[[i]],":")[[1]][2]
} else {
c[j] = strsplit(b[[i]],":")[[1]][2]
}
}
}
c
as.numeric(c)
hist(as.numeric(c))
plot(as.numeric(c))
box(as.numeric(c))
url <- "https://www.ptt.cc/bbs/NBA/index5720.html"
res <- read_html(url)
raw.titles <- res %>% html_nodes("div.title")
nba.article.link <- raw.titles %>% html_node("a") %>% html_attr('href')
nba.article.title <- raw.titles %>% html_text()
nba.df <- data.frame(nba.article.title, nba.article.link)
nba.df.col.names <- c("title", "link")
colnames(nba.df) <- nba.df.col.names
rm(list = ls())
library(jsonlite)
url <- "https://www.dcard.tw/_api/posts?popular=true"
res <- fromJSON(url)
nba.df
rm(list = ls())
library(rvest)
url <- "https://www.ptt.cc/bbs/NBA/index5720.html"
res <- read_html(url)
raw.titles <- res %>% html_nodes("div.title")
nba.article.link <- raw.titles %>% html_node("a") %>% html_attr('href')
nba.article.title <- raw.titles %>% html_text()
nba.df <- data.frame(nba.article.title, nba.article.link)
nba.df.col.names <- c("title", "link")
colnames(nba.df) <- nba.df.col.names
nba.df
res
View(nba.df)
raw.titles <- res %>% html_nodes("div.title")
raw.titles
raw.titles <- res %>% html_nodes("div.title")
raw.titles
c = NULL
html <- read_html("http://www.8591.com.tw/mallList-list.html?&group=1&searchType=0&priceSort=0&ratios=0&searchGame=22&searchServer=1778&firstRow=0&totalRows=105#menu")
repeat {
url <- html %>%
html_nodes("div#Col22Right > div.newPage.clearfix > div > a.next01") %>%
html_attr("href") %>%
paste("http://www.8591.com.tw/",.,sep = "")
if (url != "http://www.8591.com.tw/"){
html <- read_html(url)
} else break
txt <- html %>%
html_nodes("ul#wc_list > li > div > a") %>%
html_text()
a <- regmatches(txt, gregexpr("【1\\:\\d+萬】",txt))
b <- regmatches(txt, gregexpr("【1\\:\\d+\\.\\d+萬】",txt))
a <- gsub("萬】","",a)
b <- gsub("萬】","",b)
for(i in 1:length(a)){
j = length(c) + 1
if(a[[i]] != "character(0)") {
c[j] = strsplit(a[[i]],":")[[1]][2]
} else {
c[j] = strsplit(b[[i]],":")[[1]][2]
}
}
}
c
regexpr("\", \"",a)
grep("\", \"",a)
regexpr("\", \"",c)
date
?date
date()
date <- date()
dat <- date()
dat
class(da)
class(dat)
dat[1]
dat[2]
date.time()
?Date
Date)
Date())
Date()
dat <- Sys.Date()
dat
dat <- paste(Sys.Date(),".txt",sep = "")
dat
write(c,file = dat)
getwd()
library(jsonlite)
library(httpuv)
library(httr)
install.packages(httpuv)
install.packages("httpuv")
install.packages("httpuv")
oauth_endpoint("github")
oauth_endpoints("github")
my_token <- oauth_app(appname = "tifmin1525",
key = "fdadb21c8a7eb84f7caa",
secret = "110b6ffd06263fd3dba1f98c38152cb6abba47aa")
myapp <- oauth_app(appname = "tifmin1525",
key = "fdadb21c8a7eb84f7caa",
secret = "110b6ffd06263fd3dba1f98c38152cb6abba47aa")
my_token <- oauth2.0_token(oauth_endpoints("github"), myapp)
gtoken <- config(token = github_token)
gtoken <- config(token = my_token)
gtoken
req <- GET("https://api.github.com/users/jtleek/repos", gtoken)
req
stop_for_status(req)
json1 = content(req)
json1
gitDF = jsonlite::fromJSON(jsonlite::toJSON(json1))
gitDF
gitDF[gitDF$full_name == "jtleek/datasharing", "created_at"]
gitDF
req <- GET("https://github.com/tifmin1525", gtoken)
req
stop_for_status(req)
json1 = content(req)
json1
gitDF = jsonlite::fromJSON(jsonlite::toJSON(json1))
knitr::opts_chunk$set(echo = TRUE)
library(ggplot2)
diamonds
ggplot(data = diamonds, aes(x = cut)) +
geom_bar(fill = "lightblue", colour = "black")
ggplot(data = diamonds, aes(x = price)) +
geom_histogram()
ggplot(data = diamonds, aes(x = table, y=depth)) +
geom_point()
?daimond
??daimond
?diamonds
ggplot(diamonds, aes(x=clarity, y=depth)) +
geom_boxplot()
library(ggplot2)
library(GGally)
install.packages("GGally")
library(ggplot2)
library(GGally)
library(scales)
library(memisc)
install.packages("memisc")
library(ggplot2)
library(GGally)
library(scales)
library(memisc)
# 從數據集獲取10000個樣本數據進行分析
set.seed(20022012)
diamond_samp <- diamonds[sample(1:length(diamonds$price), 10000), ]
ggpairs(diamond_samp,lower= list(continuous = wrap("points", shape = I('.'))),
upper = list(combo = wrap("box", outlier.shape = I('.'))))
